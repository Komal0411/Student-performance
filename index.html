<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AI Student Performance</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <nav class="navbar navbar-dark bg-dark py-2">
    <div class="container-fluid">
      <a class="navbar-brand ms-3" href="/">AI Student Performance</a>
      <div class="me-3">

        <a href="/dashboard" class="btn btn-outline-light btn-sm me-2">Dashboard</a>
        <a href="/analysis" class="btn btn-outline-info btn-sm">Analysis</a>
      </div>
    </div>
  </nav>

  <main class="container py-5">
    <h1 class="display-6 text-center mb-4">Welcome â€” Predict & Plan</h1>

    <div class="row g-4">
      <!-- Predict Card -->
      <div class="col-lg-4">
        <div class="card feature">
          <div class="card-body">
            <h5 class="card-title">Predict Marks</h5>
            <p class="card-text small text-muted">Enter study details to get a predicted score and tailored tips.</p>
            <form action="/predict" method="POST" class="mt-2">
              <input class="form-control mb-2" name="hours" type="number" step="0.1" placeholder="Hours Studied" required>
              <input class="form-control mb-2" name="sleep" type="number" step="0.1" placeholder="Sleep Hours" required>
              <input class="form-control mb-2" name="attendance" type="number" step="0.1" placeholder="Attendance (%)" required>
              <button class="btn btn-primary w-100">Predict</button>
            </form>
          </div>
        </div>
      </div>

      <!-- CSV Card -->
      <div class="col-lg-4">
        <div class="card feature">
          <div class="card-body">
            <h5 class="card-title">Bulk CSV Predictions</h5>
            <p class="card-text small text-muted">Upload a CSV with columns <code>Hours_Studied, Sleep_Hours, Attendance</code>.</p>
            <form action="/upload_csv" method="POST" enctype="multipart/form-data">
              <input class="form-control mb-2" type="file" name="file" accept=".csv" required>
              <button class="btn btn-outline-success w-100">Upload & Predict</button>
            </form>
          </div>
        </div>
      </div>

      <!-- Planner Card -->
      <div class="col-lg-4">
        <div class="card feature">
          <div class="card-body">
            <h5 class="card-title">AI Study Planner</h5>
            <p class="card-text small text-muted">Enter subjects separated by commas and hours per day.</p>
            <form action="/create_planner" method="POST">
              <textarea class="form-control mb-2" name="subjects" placeholder="Math, DBMS, AI" rows="2" required></textarea>
              <input class="form-control mb-2" name="hours" type="number" step="0.5" placeholder="Hours per day" required>
              <button class="btn btn-warning w-100">Generate Plan</button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent predictions summary -->
    <section class="mt-5">
      <div class="row">
        <div class="col-lg-8">
          <div class="card p-3">
            <h6 class="mb-2">Live Trend</h6>
            <img id="liveGraph" src="/static/graph.png" alt="Trend" class="img-fluid rounded">
          </div>
        </div>
        <div class="col-lg-4">
          <div class="card p-3">
            <h6>Quick Links</h6>
            <ul class="list-unstyled">
              <li><a class="link-light" href="/dashboard">Open Dashboard</a></li>
              <li><a class="link-light" href="/analysis">Open Analysis</a></li>
              <li><a class="link-light" href="/download_db">Download DB</a></li>
            </ul>
          </div>
        </div>
      </div>
    </section>

  </main>

  <script src="{{ url_for('static', filename='main.js') }}"></script>
</body>
</html>
